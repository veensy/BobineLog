{"ast":null,"code":"import _defineProperty from \"/Users/kevvens/Documents/nodeJs/sidepro/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/kevvens/Documents/nodeJs/sidepro/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/kevvens/Documents/nodeJs/sidepro/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kevvens/Documents/nodeJs/sidepro/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kevvens/Documents/nodeJs/sidepro/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kevvens/Documents/nodeJs/sidepro/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kevvens/Documents/nodeJs/sidepro/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kevvens/Documents/nodeJs/sidepro/src/component/company/ModifyMyCompany.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Saisie from '../Saisie';\n\nvar ModifyMycompany =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ModifyMycompany, _Component);\n\n  function ModifyMycompany() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ModifyMycompany);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ModifyMycompany)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      modifyInputValue: {\n        is_visible: \"1\"\n      }\n    };\n\n    _this.handleChange = function (e) {\n      console.log(e.target.value, e.target.name);\n\n      _this.setState({\n        modifyInputValue: _objectSpread({}, _this.state.modifyInputValue, _defineProperty({}, e.target.name, e.target.value))\n      });\n    };\n\n    _this.getMyCompanyInfo = function (e) {\n      _this.setState({\n        isLoading: true\n      });\n\n      axios.get(\"http://localhost:3002/company/info\" + _this.props.match.params.id).then(function (response) {\n        return _this.setState({\n          modifyInputValue: response.data[0],\n          isLoading: false\n        });\n      });\n      console.log(); // .then(window.location.reload());\n    };\n\n    _this.submitModifyMyCompany = function (e) {\n      e.preventDefault();\n      axios.put(\"http://localhost:3002/company/modify\" + _this.props.match.params.id, _this.state.modifyInputValue).then(window.history.back());\n      alert(\"Les modifications sont enregistrées\");\n    };\n\n    return _this;\n  }\n\n  _createClass(ModifyMycompany, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getMyCompanyInfo();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.submitModifyMyCompany,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"fieldset\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"legend\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Modifier les information de l'entreprise \", this.state.modifyInputValue.name), React.createElement(Saisie, {\n        name: \"name\",\n        label: \"Nom*\",\n        value: this.state.modifyInputValue.name,\n        handleChange: this.handleChange,\n        isRequired: \"required\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(Saisie, {\n        name: \"address\",\n        label: \"Adresse\",\n        value: this.state.modifyInputValue.address,\n        handleChange: this.handleChange,\n        isRequired: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(Saisie, {\n        name: \"social_network_url_1\",\n        label: \"Social 1\",\n        value: this.state.modifyInputValue.social_network_url_1,\n        handleChange: this.handleChange,\n        isRequired: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(Saisie, {\n        name: \"social_network_url_2\",\n        label: \"Social 2\",\n        value: this.state.modifyInputValue.social_network_url_2,\n        handleChange: this.handleChange,\n        isRequired: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(Saisie, {\n        name: \"social_network_url_3\",\n        label: \"Social 3\",\n        value: this.state.modifyInputValue.social_network_url_3,\n        handleChange: this.handleChange,\n        isRequired: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(Saisie, {\n        name: \"phone_number\",\n        label: \"T\\xE9l\\xE9phone\",\n        value: this.state.modifyInputValue.phone_number,\n        handleChange: this.handleChange,\n        isRequired: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(Saisie, {\n        name: \"logo\",\n        label: \"Logo\",\n        value: this.state.modifyInputValue.logo,\n        handleChange: this.handleChange,\n        isRequired: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(Saisie, {\n        name: \"web_site\",\n        label: \"Site Internet\",\n        value: this.state.modifyInputValue.web_site,\n        handleChange: this.handleChange,\n        isRequired: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(Saisie, {\n        name: \"mail\",\n        label: \"Adresse mail\",\n        value: this.state.modifyInputValue.mail,\n        handleChange: this.handleChange,\n        isRequired: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Soumettre\")))));\n    }\n  }]);\n\n  return ModifyMycompany;\n}(Component);\n\nexport default ModifyMycompany;","map":{"version":3,"sources":["/Users/kevvens/Documents/nodeJs/sidepro/src/component/company/ModifyMyCompany.js"],"names":["React","Component","axios","Saisie","ModifyMycompany","state","modifyInputValue","is_visible","handleChange","e","console","log","target","value","name","setState","getMyCompanyInfo","isLoading","get","props","match","params","id","then","response","data","submitModifyMyCompany","preventDefault","put","window","history","back","alert","address","social_network_url_1","social_network_url_2","social_network_url_3","phone_number","logo","web_site","mail"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Saisie from '../Saisie'\n\nclass ModifyMycompany extends Component {\n    state = {\n        modifyInputValue: { is_visible: \"1\" }\n    };\n\n    componentDidMount() {\n        this.getMyCompanyInfo();\n    }\n    handleChange = (e) => {\n        console.log(e.target.value,e.target.name)\n        this.setState({ modifyInputValue:{...this.state.modifyInputValue,\n            [e.target.name] : e.target.value,} });\n    };\n\n    getMyCompanyInfo = e => {\n        this.setState({ isLoading: true })\n        axios\n            .get(\"http://localhost:3002/company/info\" + this.props.match.params.id)\n            .then(response => this.setState({ modifyInputValue: response.data[0], isLoading: false }))\n            console.log();\n            \n        // .then(window.location.reload());\n\n    };\n\n\n    submitModifyMyCompany = e => {\n        e.preventDefault();\n\n        axios\n            .put(\"http://localhost:3002/company/modify\" + this.props.match.params.id, this.state.modifyInputValue)\n            .then(window.history.back() );\n        alert(\"Les modifications sont enregistrées\")\n\n    };\n    \n    render() {\n        return (\n            <div>\n                <form onSubmit={this.submitModifyMyCompany}>\n\n                <fieldset><legend>Modifier les information de l'entreprise {this.state.modifyInputValue.name}</legend>\n                <Saisie name=\"name\" label=\"Nom*\" value={this.state.modifyInputValue.name} handleChange={this.handleChange} isRequired={\"required\"}/>\n                <Saisie name=\"address\" label=\"Adresse\" value={this.state.modifyInputValue.address} handleChange={this.handleChange} isRequired={false}/>\n                <Saisie name=\"social_network_url_1\" label=\"Social 1\" value={this.state.modifyInputValue.social_network_url_1} handleChange={this.handleChange} isRequired={false}/>\n                <Saisie name=\"social_network_url_2\" label=\"Social 2\" value={this.state.modifyInputValue.social_network_url_2} handleChange={this.handleChange} isRequired={false}/>\n                <Saisie name=\"social_network_url_3\" label=\"Social 3\" value={this.state.modifyInputValue.social_network_url_3} handleChange={this.handleChange} isRequired={false}/>\n                <Saisie name=\"phone_number\" label=\"Téléphone\" value={this.state.modifyInputValue.phone_number} handleChange={this.handleChange} isRequired={false}/>\n                <Saisie name=\"logo\" label=\"Logo\" value={this.state.modifyInputValue.logo} handleChange={this.handleChange} isRequired={false}/>\n                <Saisie name=\"web_site\" label=\"Site Internet\" value={this.state.modifyInputValue.web_site} handleChange={this.handleChange} isRequired={false}/>\n                <Saisie name=\"mail\" label=\"Adresse mail\" value={this.state.modifyInputValue.mail} handleChange={this.handleChange} isRequired={false}/>\n\n\n                    <div><button type=\"submit\">Soumettre</button></div>\n                    </fieldset>\n                </form>\n\n            </div>\n        );\n    }\n}\n\nexport default ModifyMycompany;\n"]},"metadata":{},"sourceType":"module"}